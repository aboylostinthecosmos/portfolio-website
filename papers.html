<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Papers & Articles — Kumar Shivam</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      color: white;
      overflow-x: hidden;
      user-select: none;
      min-height: 100vh;
    }

    .gradient-background {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 20% 30%, #1a1a2e, #16213e, #0f3460, #000);
      background-size: 300% 300%;
      animation: cosmicFlow 15s ease infinite;
      z-index: -2;
    }

    @keyframes cosmicFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .glass {
      background: rgba(25, 35, 50, 0.75);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(120, 180, 255, 0.18);
    }

    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.9s ease, transform 0.9s ease;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    details summary {
      cursor: pointer;
      list-style: none;
    }

    details summary::-webkit-details-marker {
      display: none;
    }

    #pdf-viewer {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    #pdf-viewer iframe {
      width: 80%;
      height: 85%;
      border: none;
    }

    #close-btn {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #a4d8ff;
    }
  </style>
</head>

<body oncontextmenu="return false">
<div class="gradient-background"></div>

<!-- HEADER -->
<header class="fixed top-0 left-0 right-0 z-50 bg-gray-900 bg-opacity-80 backdrop-blur">
  <div class="container mx-auto px-6 py-3 flex justify-between items-center">
    <a href="index.html">
      <div class="text-xl font-semibold">Kumar Shivam</div>
      <div class="text-xs text-gray-400 italic">a boy lost in the cosmos</div>
    </a>
    <nav class="hidden md:flex space-x-8">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="blog.html">Blog</a>
      <a href="projects.html">Projects</a>
      <a href="papers.html" class="text-blue-300">Papers</a>
    </nav>
  </div>
</header>

<!-- MAIN -->
<main class="pt-32 pb-20 container mx-auto px-6 max-w-5xl">

  <!-- HERO -->
  <section class="text-center mb-20 fade-in">
    <h1 class="text-4xl md:text-5xl font-bold">Papers & Articles</h1>
    <p class="text-slate-300 mt-3">
      Conceptual writings, research notes, and review papers in physics and astronomy.
    </p>
  </section>

  <!-- ARTICLES -->
  <section class="mb-24 fade-in">
    <h2 class="text-2xl font-semibold mb-8">Articles</h2>
    <div id="articles" class="space-y-6"></div>
  </section>

  <!-- RESEARCH -->
  <section class="fade-in">
    <h2 class="text-2xl font-semibold mb-8">Research & Review Papers</h2>
    <div id="research" class="space-y-6"></div>
  </section>

</main>

<!-- PDF VIEWER -->
<div id="pdf-viewer">
  <span id="close-btn">&times;</span>
  <iframe id="pdf-frame"></iframe>
</div>

<!-- FOOTER -->
<footer class="text-center text-slate-400 text-sm py-6">
  © 2025 aboylostinthecosmos — All Rights Reserved.
</footer>

<script>
async function loadPapers() {
  const res = await fetch('papers.json');
  const data = await res.json();

  // Articles
  const articles = document.getElementById('articles');
  data.articles.forEach(a => {
    articles.innerHTML += `
      <div class="border-b border-white/10 pb-4">
        <h3 class="text-lg font-medium">${a.title}</h3>
        <p class="text-slate-300 text-sm mt-1">${a.description}</p>
        <p class="text-xs text-blue-300 mt-2">
          ${a.category} • ${a.date}
        </p>
        <button onclick="openPDF('${a.file}')" class="text-blue-300 text-sm mt-2">
          Read →
        </button>
      </div>
    `;
  });

  // Research grouped
  const research = document.getElementById('research');
  for (const group in data.research_groups) {
    research.innerHTML += `
      <details class="glass rounded-xl p-5">
        <summary class="text-lg font-medium text-blue-300">${group}</summary>
        <div class="mt-4 space-y-4">
          ${data.research_groups[group].map(p => `
            <div>
              <h4 class="font-medium">${p.title}</h4>
              <p class="text-slate-300 text-sm">${p.description}</p>
              <p class="text-xs text-blue-300 mt-1">${p.type ? p.type + ' • ' : ''}${p.date}</p>
              <button onclick="openPDF('${p.file}')" class="text-blue-300 text-sm mt-1">
                View →
              </button>
            </div>
          `).join('')}
        </div>
      </details>
    `;
  }
}

function openPDF(file) {
  document.getElementById('pdf-frame').src = file + "#toolbar=0&navpanes=0";
  document.getElementById('pdf-viewer').style.display = 'flex';
}

document.getElementById('close-btn').onclick = () => {
  document.getElementById('pdf-viewer').style.display = 'none';
  document.getElementById('pdf-frame').src = '';
};

loadPapers();

// Fade-in observer
const obs = new IntersectionObserver(e =>
  e.forEach(x => x.isIntersecting && x.target.classList.add('visible')),
  { threshold: 0.1 }
);
document.querySelectorAll('.fade-in').forEach(el => obs.observe(el));
</script>

</body>
</html>
